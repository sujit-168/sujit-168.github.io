import{_ as r}from"./chunks/ArticleMetadata.DVTqJc8d.js";import{_ as h,B as d,c as k,o as e,j as t,G as o,a4 as c,a as g,w as F,b as m,e as u}from"./chunks/framework.CETqlJrj.js";import"./chunks/theme.DA9djhWD.js";const E=JSON.parse('{"title":"找不到命令 rosinstall","description":"","frontmatter":{"title":"找不到命令 rosinstall","date":"2024-03-13 18:37","categories":["ROS"],"tags":["ROS1",".rosinstall"],"copyright":true},"headers":[],"relativePath":"ros/2024/03/13/Can_not_find_my_command_rosinstall.md","filePath":"ros/2024/03/13/Can_not_find_my_command_rosinstall.md","lastUpdated":1711185179000}'),b={name:"ros/2024/03/13/Can_not_find_my_command_rosinstall.md"};function y(i,s,D,C,v,_){const l=r,p=d("ClientOnly");return e(),k("div",null,[s[0]||(s[0]=t("h1",{id:"找不到命令-rosinstall",tabindex:"-1"},[g("找不到命令 rosinstall "),t("a",{class:"header-anchor",href:"#找不到命令-rosinstall","aria-label":'Permalink to "找不到命令 rosinstall"'},"​")],-1)),o(p,null,{default:F(()=>{var a,n;return[(((a=i.$frontmatter)==null?void 0:a.aside)??!0)&&(((n=i.$frontmatter)==null?void 0:n.showArticleMetadata)??!0)?(e(),m(l,{key:0,article:i.$frontmatter},null,8,["article"])):u("",!0)]}),_:1}),s[1]||(s[1]=c(`<h2 id="如何安装" tabindex="-1">如何安装 <a class="header-anchor" href="#如何安装" aria-label="Permalink to &quot;如何安装&quot;">​</a></h2><p>参考文章<a href="https://answers.ros.org/question/32329/cant-find-my-command-rosinstall/" target="_blank" rel="noreferrer">Can&#39;t find my command &quot;rosinstall&quot;</a>，rosinstall 并未作为 debian 软件包的一部分安装。可以使用 pip 安装，方法如下</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rosinstall</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>等待片刻，安装完成。</p><h2 id="问题重现" tabindex="-1">问题重现 <a class="header-anchor" href="#问题重现" aria-label="Permalink to &quot;问题重现&quot;">​</a></h2><p>执行如下命令</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tianbot@ros2go:~/turtlebot_ws/src/turtlebot$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rosinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> turtlebot.rosinstall</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>终端显示<code>yaml.load(f) typeerror load() missing 1 required positional argument &#39;loader&#39;</code>,然后进程意外退出。</p><p>搜索一番后，参考文章<a href="https://blog.csdn.net/qq_44824148/article/details/122337056" target="_blank" rel="noreferrer">解决报错：TypeError: load() missing 1 required positional argument: ‘Loader‘</a>，找到了解决问题的思路，问题出在<code>PyYAML</code>这个<code>Python</code>模块上。</p><h2 id="解决方法" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法" aria-label="Permalink to &quot;解决方法&quot;">​</a></h2><h3 id="确认-pyyaml-版本" tabindex="-1">确认 PyYAML 版本 <a class="header-anchor" href="#确认-pyyaml-版本" aria-label="Permalink to &quot;确认 PyYAML 版本&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tianbot@ros2go:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pip3</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> PyYAML</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">PyYAML</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                        6.0.1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[notice] A new release of pip is available: 23.3.1 -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> 24.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[notice] To update, run: pip install --upgrade pip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当前版本为<code>6.0.1</code>，需要修改代码调用</p><h3 id="修改代码调用" tabindex="-1">修改代码调用 <a class="header-anchor" href="#修改代码调用" aria-label="Permalink to &quot;修改代码调用&quot;">​</a></h3><p>修改报错脚本文件</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> vi</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /usr/lib/python3.8/site-packages/wstool/config_yaml.py</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将有问题的代码段，对报错提示的 74 行代码进行修改</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">将 yamldata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> yaml.load(stream)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 替换为下面这行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">yamldata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> yaml.load(stream, </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">Loader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> yaml.FullLoader)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>再次执行如下命令</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tianbot@ros2go:~/turtlebot_ws/src/turtlebot$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rosinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> turtlebot.rosinstall</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">rosinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> operating</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /home/tianbot/turtlebot_ws/src/turtlebot</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> specifications</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rosinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> files</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  turtlebot.rosinstall</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Over-</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Writing</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /home/tianbot/turtlebot_ws/src/turtlebot/.rosinstall</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Prepare</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> updating</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://github.com/turtlebot/turtlebot.git</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (version </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">indigo</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) to /home/tianbot/turtlebot_ws/src/turtlebot/turtlebot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> detect</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> presence</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /home/tianbot/turtlebot_ws/src/turtlebot/turtlebot.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">elete</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> replace,</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (a)bort, (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)ackup and replace, (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)kip:</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>输入<code>s</code>跳过，问题解决。</p>`,22))])}const w=h(b,[["render",y]]);export{E as __pageData,w as default};
