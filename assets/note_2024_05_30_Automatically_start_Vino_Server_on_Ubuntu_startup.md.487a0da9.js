import{_ as r}from"./chunks/ArticleMetadata.1f2d3a8b.js";import{_ as p,C as i,o as n,c,H as d,w as u,k as o,a as h,Q as b,b as m,e as _}from"./chunks/framework.4303053c.js";import"./chunks/md5.3e7612d8.js";const V=JSON.parse('{"title":"Ubuntu 开机自动启动 Vino Server","description":"","frontmatter":{"title":"Ubuntu 开机自动启动 Vino Server","date":"2024-05-30 09:39","categories":["note"],"tags":["linux","vino","startup application"],"copyright":true},"headers":[],"relativePath":"note/2024/05/30/Automatically_start_Vino_Server_on_Ubuntu_startup.md","filePath":"note/2024/05/30/Automatically_start_Vino_Server_on_Ubuntu_startup.md","lastUpdated":1717033589000}'),y={name:"note/2024/05/30/Automatically_start_Vino_Server_on_Ubuntu_startup.md"},g=o("h1",{id:"ubuntu-开机自动启动-vino-server",tabindex:"-1"},[h("Ubuntu 开机自动启动 Vino Server "),o("a",{class:"header-anchor",href:"#ubuntu-开机自动启动-vino-server","aria-label":'Permalink to "Ubuntu 开机自动启动 Vino Server"'},"​")],-1),v=b(`<h2 id="auto-login" tabindex="-1">Auto Login <a class="header-anchor" href="#auto-login" aria-label="Permalink to &quot;Auto Login&quot;">​</a></h2><p><code>Vino Server</code>和<code>Startup Application</code>，在用户没有<code>login</code>到桌面 , 是不会启动的。</p><ul><li>自动登录和输入密码登录桌面在使用体验上还是不一样的</li></ul><h3 id="设置自动登录" tabindex="-1">设置自动登录 <a class="header-anchor" href="#设置自动登录" aria-label="Permalink to &quot;设置自动登录&quot;">​</a></h3><p><img src="https://cn-sy1.rains3.com/dfdfgf/blog/Automatically_start_Vino_Server_on_Ubuntu_startup/66d2f5fcb5cef67010f058bdb1e8c9a1.png" alt="img"></p><h3 id="可能的报错解决" tabindex="-1">可能的报错解决 <a class="header-anchor" href="#可能的报错解决" aria-label="Permalink to &quot;可能的报错解决&quot;">​</a></h3><p>终端输入</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">gnome-control-center</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">gnome-control-center</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>遇到报错</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">can</span><span style="color:#F69D50;">&#39;t load /usr/lib/x86_64-linux-gnu/spa/support/libspa-support.so: /usr/lib/x86_64-linux-gnu/spa/support/libspa-support.so: cannot open shared object file: No such file or directory</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">can</span><span style="color:#6F42C1;">&#39;t load /usr/lib/x86_64-linux-gnu/spa/support/libspa-support.so: /usr/lib/x86_64-linux-gnu/spa/support/libspa-support.so: cannot open shared object file: No such file or directory</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解决方式：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">sudo</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">apt</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">install</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">pipewire</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apt</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pipewire</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><a href="https://blog.csdn.net/qq_37580586/article/details/131793835" target="_blank" rel="noreferrer">Ubuntu 设置无法打开提示 libspa-support.so: cannot open shared object file: No such file or directory</a></li></ul><h2 id="solution" tabindex="-1">Solution <a class="header-anchor" href="#solution" aria-label="Permalink to &quot;Solution&quot;">​</a></h2><p>具体的解决方案</p><h3 id="_1-创建自启动脚本" tabindex="-1">1. 创建自启动脚本 <a class="header-anchor" href="#_1-创建自启动脚本" aria-label="Permalink to &quot;1. 创建自启动脚本&quot;">​</a></h3><p>创建脚本 <strong>start_vino.sh</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#768390;">#optional</span></span>
<span class="line"><span style="color:#F69D50;">pkill</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">vino</span></span>
<span class="line"><span style="color:#F47067;">export</span><span style="color:#ADBAC7;"> DISPLAY</span><span style="color:#F47067;">=</span><span style="color:#96D0FF;">:0.0</span></span>
<span class="line"><span style="color:#F69D50;">/usr/lib/vino/vino-server</span><span style="color:#ADBAC7;"> &amp;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#optional</span></span>
<span class="line"><span style="color:#6F42C1;">pkill</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vino</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> DISPLAY</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">:0.0</span></span>
<span class="line"><span style="color:#6F42C1;">/usr/lib/vino/vino-server</span><span style="color:#24292E;"> &amp;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-脚本提权" tabindex="-1">2. 脚本提权 <a class="header-anchor" href="#_2-脚本提权" aria-label="Permalink to &quot;2. 脚本提权&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">chmod</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">a+x</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">start_vino.sh</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a+x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start_vino.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-添加自启动项目" tabindex="-1">3. 添加自启动项目 <a class="header-anchor" href="#_3-添加自启动项目" aria-label="Permalink to &quot;3. 添加自启动项目&quot;">​</a></h3><p>搜索 <code>Startup Applications</code> , 把 <code>start_vino.sh</code> 加到自动启动项目</p><p><img src="https://cn-sy1.rains3.com/dfdfgf/blog/Automatically_start_Vino_Server_on_Ubuntu_startup/image-20240529145744718-17169659150991.png" alt="image-20240529145744718"></p><h3 id="_4-自动登录" tabindex="-1">4. 自动登录 <a class="header-anchor" href="#_4-自动登录" aria-label="Permalink to &quot;4. 自动登录&quot;">​</a></h3><p>把这个账户设置成 <code>Automatic Login</code></p><p><img src="https://cn-sy1.rains3.com/dfdfgf/blog/Automatically_start_Vino_Server_on_Ubuntu_startup/66d2f5fcb5cef67010f058bdb1e8c9a1.png" alt="img"></p><h2 id="reference" tabindex="-1">Reference <a class="header-anchor" href="#reference" aria-label="Permalink to &quot;Reference&quot;">​</a></h2><ul><li><a href="http://admin.guyuehome.com/18734" target="_blank" rel="noreferrer">ROS 节点开机自启动</a></li></ul>`,28);function f(a,k,A,F,C,D){const t=r,l=i("ClientOnly");return n(),c("div",null,[g,d(l,null,{default:u(()=>{var s,e;return[(((s=a.$frontmatter)==null?void 0:s.aside)??!0)&&(((e=a.$frontmatter)==null?void 0:e.showArticleMetadata)??!0)?(n(),m(t,{key:0,article:a.$frontmatter},null,8,["article"])):_("",!0)]}),_:1}),v])}const P=p(y,[["render",f]]);export{V as __pageData,P as default};
