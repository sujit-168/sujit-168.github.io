import{_ as t}from"./chunks/ArticleMetadata.84f8e5b7.js";import{_ as c,C as r,o as n,c as i,H as d,w as h,k as l,a as u,Q as y,b,e as m}from"./chunks/framework.fcce45dc.js";import"./chunks/md5.3e7612d8.js";const H=JSON.parse('{"title":"如何解决 SSH 免密连接 Github 的连接超时问题","description":"","frontmatter":{"title":"如何解决 SSH 免密连接 Github 的连接超时问题","date":"2024-02-23 15:28","categories":["note"],"tags":["Git"],"copyright":true},"headers":[],"relativePath":"note/2024/02/23/Timeout_problem_of_connecting_to_Github_by_ssh.md","filePath":"note/2024/02/23/Timeout_problem_of_connecting_to_Github_by_ssh.md","lastUpdated":1711185179000}'),g={name:"note/2024/02/23/Timeout_problem_of_connecting_to_Github_by_ssh.md"},F=l("h1",{id:"如何解决-ssh-免密连接-github-的连接超时问题",tabindex:"-1"},[u("如何解决 SSH 免密连接 Github 的连接超时问题 "),l("a",{class:"header-anchor",href:"#如何解决-ssh-免密连接-github-的连接超时问题","aria-label":'Permalink to "如何解决 SSH 免密连接 Github 的连接超时问题"'},"​")],-1),C=y(`<h2 id="问题描述" tabindex="-1">问题描述 <a class="header-anchor" href="#问题描述" aria-label="Permalink to &quot;问题描述&quot;">​</a></h2><p>事情是这样的，前些天的早上，我醒来想起还有一个昨天的 commit 还没有提交，准备使用 SSH 免密登录并 git push 到 Github 时，在终端中输入命令，然后等待....</p><p>就没有然后了，哦，连接超时了。</p><p>自从 Github 开始要求 https 需要通过 token 进行认证后，我便放弃了之前一直使用的 https 方式进行认证，没想到今天使用 SSH 结果连接超时了，但我又不想转回到 https 方式上。</p><p>😂所以事情开始变得有趣起来了。</p><h2 id="问题分析" tabindex="-1">问题分析 <a class="header-anchor" href="#问题分析" aria-label="Permalink to &quot;问题分析&quot;">​</a></h2><p>首先，我尝试了以下方法：</p><ol><li>检查了网络连接是否正常，包括 DNS 解析是否正常，ping 是否正常，发现 ping 正常返回数据包，说明网络连接是正常的。</li></ol><p>难道是概率问题？，在终端中输入命令，然后等待....</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">ssh</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">-T</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">git@github.com</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">ssh</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-T</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git@github.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>还是没有反应，还是先 <code>bing</code> 一下</p><ol start="2"><li>搜索了相关的问题，发现前人已经遇到过同样的问题，搓搓手开试。</li></ol><ul><li><a href="https://stackoverflow.com/questions/73866112/connecting-github-com-timed-out" target="_blank" rel="noreferrer">connecting github.com timed out</a></li><li><a href="https://amesbury.it/git/github/2018/05/15/port22-blocked-github.html" target="_blank" rel="noreferrer">Port 22 is blocked, how can I push to Git with SSH?</a></li></ul><p>根据他们的经验，我先尝试了一下：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">ssh</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">-T</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">-p</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">443</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">git@ssh.github.com</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">ssh</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-T</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">443</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git@ssh.github.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>输出</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">Hi</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">sujit-168!</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">Hi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sujit-168!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>OK，看起来确实奏效了，<code>StackOverflow</code> <strong>YYDS</strong></p><h2 id="解决方法" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法" aria-label="Permalink to &quot;解决方法&quot;">​</a></h2><p>首先</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">sudo</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">vi</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">.ssh/config</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.ssh/config</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">在</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">config</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">文件中添加以下内容</span></span>
<span class="line"><span style="color:#F69D50;">Host</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">github.com</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">HostName</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">ssh.github.com</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">User</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">git</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">Port</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">443</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">在</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">文件中添加以下内容</span></span>
<span class="line"><span style="color:#6F42C1;">Host</span><span style="color:#24292E;"> </span><span style="color:#032F62;">github.com</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">HostName</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ssh.github.com</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Port</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">443</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>然后 <code>ESC</code>，输入<code>:wq</code> 保存并退出。</p><h2 id="验证" tabindex="-1">验证 <a class="header-anchor" href="#验证" aria-label="Permalink to &quot;验证&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">.ros1</span><span style="color:#ADBAC7;">) tianbot@ros2go:</span><span style="color:#F47067;">~</span><span style="color:#ADBAC7;">$ ssh -T git@github.com</span></span>
<span class="line"><span style="color:#F69D50;">Hi</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">sujit-168!</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">.ros1</span><span style="color:#24292E;">) tianbot@ros2go:</span><span style="color:#D73A49;">~</span><span style="color:#24292E;">$ ssh -T git@github.com</span></span>
<span class="line"><span style="color:#6F42C1;">Hi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sujit-168!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>再次运行 <code>git push</code> 即可成功。</p>`,27);function _(s,v,A,D,k,f){const o=t,p=r("ClientOnly");return n(),i("div",null,[F,d(p,null,{default:h(()=>{var a,e;return[(((a=s.$frontmatter)==null?void 0:a.aside)??!0)&&(((e=s.$frontmatter)==null?void 0:e.showArticleMetadata)??!0)?(n(),b(o,{key:0,article:s.$frontmatter},null,8,["article"])):m("",!0)]}),_:1}),C])}const T=c(g,[["render",_]]);export{H as __pageData,T as default};
