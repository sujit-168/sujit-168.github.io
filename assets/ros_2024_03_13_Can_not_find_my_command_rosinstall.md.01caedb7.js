import{_ as t}from"./chunks/ArticleMetadata.8d40e945.js";import{_ as r,C as c,o as l,c as i,H as y,w as d,k as o,a as u,Q as b,b as F,e as m}from"./chunks/framework.144d84a9.js";import"./chunks/md5.3e7612d8.js";const P=JSON.parse('{"title":"找不到命令 rosinstall","description":"","frontmatter":{"title":"找不到命令 rosinstall","date":"2024-03-13 18:37","categories":["ROS"],"tags":["ROS1",".rosinstall"],"copyright":true},"headers":[],"relativePath":"ros/2024/03/13/Can_not_find_my_command_rosinstall.md","filePath":"ros/2024/03/13/Can_not_find_my_command_rosinstall.md","lastUpdated":1711185179000}'),A={name:"ros/2024/03/13/Can_not_find_my_command_rosinstall.md"},h=o("h1",{id:"找不到命令-rosinstall",tabindex:"-1"},[u("找不到命令 rosinstall "),o("a",{class:"header-anchor",href:"#找不到命令-rosinstall","aria-label":'Permalink to "找不到命令 rosinstall"'},"​")],-1),D=b(`<h2 id="如何安装" tabindex="-1">如何安装 <a class="header-anchor" href="#如何安装" aria-label="Permalink to &quot;如何安装&quot;">​</a></h2><p>参考文章<a href="https://answers.ros.org/question/32329/cant-find-my-command-rosinstall/" target="_blank" rel="noreferrer">Can&#39;t find my command &quot;rosinstall&quot;</a>，rosinstall 并未作为 debian 软件包的一部分安装。可以使用 pip 安装，方法如下</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">pip</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">install</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">-U</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">rosinstall</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pip</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-U</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rosinstall</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>等待片刻，安装完成。</p><h2 id="问题重现" tabindex="-1">问题重现 <a class="header-anchor" href="#问题重现" aria-label="Permalink to &quot;问题重现&quot;">​</a></h2><p>执行如下命令</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">tianbot@ros2go:~/turtlebot_ws/src/turtlebot$</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">rosinstall</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">.</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">turtlebot.rosinstall</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">tianbot@ros2go:~/turtlebot_ws/src/turtlebot$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rosinstall</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.</span><span style="color:#24292E;"> </span><span style="color:#032F62;">turtlebot.rosinstall</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>终端显示<code>yaml.load(f) typeerror load() missing 1 required positional argument &#39;loader&#39;</code>,然后进程意外退出。</p><p>搜索一番后，参考文章<a href="https://blog.csdn.net/qq_44824148/article/details/122337056" target="_blank" rel="noreferrer">解决报错：TypeError: load() missing 1 required positional argument: ‘Loader‘</a>，找到了解决问题的思路，问题出在<code>PyYAML</code>这个<code>Python</code>模块上。</p><h2 id="解决方法" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法" aria-label="Permalink to &quot;解决方法&quot;">​</a></h2><h3 id="确认-pyyaml-版本" tabindex="-1">确认 PyYAML 版本 <a class="header-anchor" href="#确认-pyyaml-版本" aria-label="Permalink to &quot;确认 PyYAML 版本&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">tianbot@ros2go:~$</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">pip3</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">list</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">|</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">grep</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">PyYAML</span></span>
<span class="line"><span style="color:#F69D50;">PyYAML</span><span style="color:#ADBAC7;">                        </span><span style="color:#6CB6FF;">6.0</span><span style="color:#96D0FF;">.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">[notice] A new release of pip is available: 23.3.1 -</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> 24.0</span></span>
<span class="line"><span style="color:#ADBAC7;">[notice] To update, run: pip install --upgrade pip</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">tianbot@ros2go:~$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pip3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PyYAML</span></span>
<span class="line"><span style="color:#6F42C1;">PyYAML</span><span style="color:#24292E;">                        </span><span style="color:#005CC5;">6.0</span><span style="color:#032F62;">.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[notice] A new release of pip is available: 23.3.1 -</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> 24.0</span></span>
<span class="line"><span style="color:#24292E;">[notice] To update, run: pip install --upgrade pip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当前版本为<code>6.0.1</code>，需要修改代码调用</p><h3 id="修改代码调用" tabindex="-1">修改代码调用 <a class="header-anchor" href="#修改代码调用" aria-label="Permalink to &quot;修改代码调用&quot;">​</a></h3><p>修改报错脚本文件</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">sudo</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">vi</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">/usr/lib/python3.8/site-packages/wstool/config_yaml.py</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/lib/python3.8/site-packages/wstool/config_yaml.py</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将有问题的代码段，对报错提示的 74 行代码进行修改</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#ADBAC7;">将 yamldata </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> yaml.load(stream)</span></span>
<span class="line"><span style="color:#768390;"># 替换为下面这行</span></span>
<span class="line"><span style="color:#ADBAC7;">yamldata </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> yaml.load(stream, </span><span style="color:#F69D50;">Loader</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> yaml.FullLoader)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">将 yamldata </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> yaml.load(stream)</span></span>
<span class="line"><span style="color:#6A737D;"># 替换为下面这行</span></span>
<span class="line"><span style="color:#24292E;">yamldata </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> yaml.load(stream, </span><span style="color:#E36209;">Loader</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> yaml.FullLoader)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>再次执行如下命令</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">tianbot@ros2go:~/turtlebot_ws/src/turtlebot$</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">rosinstall</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">.</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">turtlebot.rosinstall</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">tianbot@ros2go:~/turtlebot_ws/src/turtlebot$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rosinstall</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.</span><span style="color:#24292E;"> </span><span style="color:#032F62;">turtlebot.rosinstall</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">rosinstall</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">operating</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">on</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">/home/tianbot/turtlebot_ws/src/turtlebot</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">from</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">specifications</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">in</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">rosinstall</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">files</span><span style="color:#ADBAC7;">  </span><span style="color:#96D0FF;">turtlebot.rosinstall</span></span>
<span class="line"><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Over-</span><span style="color:#ADBAC7;">)Writing /home/tianbot/turtlebot_ws/src/turtlebot/.rosinstall</span></span>
<span class="line"><span style="color:#F69D50;">Prepare</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">updating</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">https://github.com/turtlebot/turtlebot.git</span><span style="color:#ADBAC7;"> (version </span><span style="color:#96D0FF;">indigo</span><span style="color:#ADBAC7;">) to /home/tianbot/turtlebot_ws/src/turtlebot/turtlebot</span></span>
<span class="line"><span style="color:#F69D50;">Failed</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">to</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">detect</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">git</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">presence</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">at</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">/home/tianbot/turtlebot_ws/src/turtlebot/turtlebot.</span></span>
<span class="line"><span style="color:#ADBAC7;">  (</span><span style="color:#F69D50;">d</span><span style="color:#ADBAC7;">)</span><span style="color:#F69D50;">elete</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">and</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">replace,</span><span style="color:#ADBAC7;"> (a)bort, (</span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">)ackup and replace, (</span><span style="color:#F69D50;">s</span><span style="color:#ADBAC7;">)kip:</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">rosinstall</span><span style="color:#24292E;"> </span><span style="color:#032F62;">operating</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/home/tianbot/turtlebot_ws/src/turtlebot</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">specifications</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rosinstall</span><span style="color:#24292E;"> </span><span style="color:#032F62;">files</span><span style="color:#24292E;">  </span><span style="color:#032F62;">turtlebot.rosinstall</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Over-</span><span style="color:#24292E;">)Writing /home/tianbot/turtlebot_ws/src/turtlebot/.rosinstall</span></span>
<span class="line"><span style="color:#6F42C1;">Prepare</span><span style="color:#24292E;"> </span><span style="color:#032F62;">updating</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/turtlebot/turtlebot.git</span><span style="color:#24292E;"> (version </span><span style="color:#032F62;">indigo</span><span style="color:#24292E;">) to /home/tianbot/turtlebot_ws/src/turtlebot/turtlebot</span></span>
<span class="line"><span style="color:#6F42C1;">Failed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">detect</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">presence</span><span style="color:#24292E;"> </span><span style="color:#032F62;">at</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/home/tianbot/turtlebot_ws/src/turtlebot/turtlebot.</span></span>
<span class="line"><span style="color:#24292E;">  (</span><span style="color:#6F42C1;">d</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">elete</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">replace,</span><span style="color:#24292E;"> (a)bort, (</span><span style="color:#6F42C1;">b</span><span style="color:#24292E;">)ackup and replace, (</span><span style="color:#6F42C1;">s</span><span style="color:#24292E;">)kip:</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>输入<code>s</code>跳过，问题解决。</p>`,22);function C(s,g,_,v,B,E){const p=t,e=c("ClientOnly");return l(),i("div",null,[h,y(e,null,{default:d(()=>{var a,n;return[(((a=s.$frontmatter)==null?void 0:a.aside)??!0)&&(((n=s.$frontmatter)==null?void 0:n.showArticleMetadata)??!0)?(l(),F(p,{key:0,article:s.$frontmatter},null,8,["article"])):m("",!0)]}),_:1}),D])}const q=r(A,[["render",C]]);export{P as __pageData,q as default};
